!function(a){a.fn.extend({elastic:function(){var b=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","-moz-box-sizing","box-sizing","-webkit-box-sizing","padding-top","padding-bottom","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor"];return this.each(function(){function q(){var a=Math.floor(parseInt(d.width(),10)-parseInt(h,10));l.width()!==a&&(l.css({width:a+"px"}),s(!0))}function r(a,b){var c=Math.floor(parseInt(a,10)+parseInt(g,10));d.height()!==c&&d.css({height:c+"px",overflow:b})}function s(a){var b=d.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),g=0,i=0,j=l.html().replace(/<br>/gi,"<br />");if(a||b+"&nbsp;"!==j){l.html(b+"&nbsp;");var k=d.width();if("border-box"==c?(k=parseInt(k+parseInt(h,10)),l.css({width:k+"px"})):l.css({width:k+"px"}),g=l.height(),i=d.height()-4,Math.abs(g+e-i)>3){var n=g;n>=m?r(m,"auto"):n<=f?r(f,"hidden"):r(n,"hidden")}}}if("textarea"!==this.type)return!1;var c="",d=a(this),e=parseInt(d.css("line-height"),10)||parseInt(d.css("font-size"),"10"),f=parseInt(d.css("height"),10)||3*e,g=0,h=0,j=(d.css("display"),a().jquery),k=j.split(".");j=parseInt(k[1]),d.css("-moz-box-sizing")?c=d.css("-moz-box-sizing"):d.css("box-sizing")?c=d.css("box-sizing"):d.css("-webkit-box-sizing")&&(c=d.css("-webkit-box-sizing")),"border-box"==c&&(g=parseInt(d.css("padding-bottom"),10)+parseInt(d.css("padding-top"),10)+parseInt(d.css("border-top-width"),10)+parseInt(d.css("border-bottom-width"),10),f-=g),h=parseInt(d.css("padding-right"),10)+parseInt(d.css("padding-left"),10)+parseInt(d.css("border-right-width"),10)+parseInt(d.css("border-left-width"),10);var l=a("<div />").css({position:"absolute",display:"none","word-wrap":"break-word","white-space":"pre-wrap"}),m=parseInt(d.css("max-height"),10)||Number.MAX_VALUE;m<0&&(m=Number.MAX_VALUE),l.appendTo(d.parent());for(var o=b.length;o--;)d.css(b[o].toString())&&l.css(b[o].toString(),d.css(b[o].toString()));var p=d.width();"border-box"==c?(p=parseInt(p+parseInt(h,10)),l.css({width:p+"px"})):(p=parseInt(p-parseInt(h,10)),l.css({width:p+"px"})),d.css({overflow:"hidden"}),d.on("keyup change cut paste",function(){s()}),a(window).on("resize",q),d.on("resize",q),d.on("update",s),d.on("blur",function(){var a=l.height();j<8&&(a=l.height()+g),a<m&&(a>f?d.height(a):d.height(f))}),d.on("input paste",function(a){setTimeout(s,250)}),s()})}})}(jQuery);