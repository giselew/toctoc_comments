!function(t){function e(e,i){var s,r,f,c=this,a=e.add(c),l=t(window),u=t.tools.expose&&(i.mask||i.expose),p=Math.random().toString().slice(10);u&&("string"==typeof u&&(u={color:u}),u.closeOnClick=u.closeOnEsc=!1);var d=i.target||e.attr("rel");if(r=d?t(d):e,!r.length)throw"Could not find Overlay: "+d;e&&-1==e.index(r)&&e.click(function(t){return c.load(t),t.preventDefault()}),t.extend(c,{load:function(e){if(c.isOpened())return c;var s=n[i.effect];if(!s)throw'Overlay: cannot find effect : "'+i.effect+'"';if(i.oneInstance&&t.each(o,function(){this.close(e)}),e=e||t.Event(),e.type="onBeforeLoad",a.trigger(e),e.isDefaultPrevented())return c;f=!0,u&&t(r).expose(u);var d=i.top,h=i.left,g=r.outerWidth({margin:!0}),v=r.outerHeight({margin:!0});return"string"==typeof d&&(d="center"==d?Math.max((l.height()-v)/2,0):parseInt(d,10)/100*l.height()),"center"==h&&(h=Math.max((l.width()-g)/2,0)),s[0].call(c,{top:d,left:h},function(){f&&(e.type="onLoad",a.trigger(e))}),u&&i.closeOnClick&&t.mask.getMask().one("click",c.close),i.closeOnClick&&t(document).on("click."+p,function(e){t(e.target).parents(r).length||c.close(e)}),i.closeOnEsc&&t(document).on("keydown."+p,function(t){27==t.keyCode&&c.close(t)}),c},close:function(e){return c.isOpened()?(e=e||t.Event(),e.type="onBeforeClose",a.trigger(e),e.isDefaultPrevented()?void 0:(f=!1,n[i.effect][1].call(c,function(){e.type="onClose",a.trigger(e)}),t(document).off("click."+p+" keydown."+p),u&&t.mask.close(),setTimeout(function(){t("#tx-tc-ovldlg-0").remove()},2),c)):c},getOverlay:function(){return r},getTrigger:function(){return e},getClosers:function(){return s},isOpened:function(){return f},getConf:function(){return i}}),t.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(e,o){t.isFunction(i[o])&&t(c).on(o,i[o]),c[o]=function(e){return e&&t(c).on(o,e),c}}),s=r.find(i.close||".close"),s.length||i.close||(s=t('<a class="close"></a>'),r.prepend(s)),s.click(function(t){c.close(t)}),i.load&&c.load()}t.tools=t.tools||{version:"@VERSION"},t.tools.superpose={addEffect:function(t,e,o){n[t]=[e,o]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!0,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var o=[],n={};t.tools.superpose.addEffect("default",function(e,o){var n=this.getConf(),i=t(window);n.fixed||(e.top+=i.scrollTop(),e.left+=i.scrollLeft()),e.position=n.fixed?"fixed":"absolute",this.getOverlay().css(e).fadeIn(n.speed,o)},function(t){this.getOverlay().fadeOut(this.getConf().closeSpeed,t)}),t.fn.superpose=function(n){var i=this.data("superpose");return i?i:(t.isFunction(n)&&(n={onBeforeLoad:n}),n=t.extend(!0,{},t.tools.superpose.conf,n),this.each(function(){i=new e(t(this),n),o.push(i),t(this).data("superpose",i)}),n.api?i:this)}}(jQuery),function(t){function e(e,o,n){var i=n.relative?e.position().top:e.offset().top,s=n.relative?e.position().left:e.offset().left,r=n.position[0];i-=o.outerHeight()-n.offset[0],s+=e.outerWidth()+n.offset[1],/iPad/i.test(navigator.userAgent)&&(i-=t(window).scrollTop());var f=o.outerHeight()+e.outerHeight();"center"==r&&(i+=f/2),"bottom"==r&&(i+=f),r=n.position[1];var c=o.outerWidth()+e.outerWidth();return"center"==r&&(s-=c/2),"left"==r&&(s-=c),{top:i,left:s,conf:n}}function o(o,i){var s,r,f=this,c=o.add(f),a=0,l=0,u=o.attr("title"),p=o.attr("data-cooltip"),d=n[i.effect],h=o.is(":input"),g=h&&o.is(":checkbox, :radio, select, :button, :submit"),v=o.attr("type"),m=i.events[v]||i.events[h?g?"widget":"input":"def"];if(!d)throw'Nonexistent effect "'+i.effect+'"';if(m=m.split(/,\s*/),2!=m.length)throw"Tooltip: bad events configuration for "+v;o.on(m[0],function(t){clearTimeout(a),i.predelay?l=setTimeout(function(){f.show(t)},i.predelay):f.show(t)}).on(m[1],function(t){clearTimeout(l),i.delay?a=setTimeout(function(){f.hide(t)},i.delay):f.hide(t)}),u&&i.cancelDefault&&(o.removeAttr("title"),o.data("title",u)),t.extend(f,{show:function(n){if(!s&&(p?s=t(p):i.tip?s=t(i.tip).eq(0):u?s=t(i.layout).addClass(i.tipClass).appendTo(document.body).hide().append(u):(s=o.next(),s.length||(s=o.parent().next())),!s.length))throw"Cannot find cooltip for "+o;if(f.isShown())return f;s.stop(!0,!0);var h=e(o,s,i);if(i=h.conf,i.tip&&s.html(o.data("title")),n=t.Event(),n.type="onBeforeShow",c.trigger(n,[h]),n.isDefaultPrevented())return f;h=e(o,s,i),i=h.conf;var g=t(window).scrollTop(),v=t(window).height(),x="",y="",w="";if("top"==i.position[0]&&h.top-g<0&&(h.top+=o.outerHeight()+s.outerHeight(),"tx-tc-tooltip"==i.tipClass&&(x="url('/typo3conf/ext/toctoc_comments/res/css/themes/"+selectedTheme+"/img/tiparrowrev.png')",y="top",w="12px 4px 4px"),"tx-tc-tooltipemoji"==i.tipClass&&(x="url('/typo3conf/ext/toctoc_comments/res/css/themes/"+selectedTheme+"/img/tipemorev.png')",y="top",w="12px 4px 4px")),"bottom"==i.position[0]){var C=v-h.top-o.outerHeight()-s.outerHeight()+g;0>C&&(h.top-=o.outerHeight()+s.outerHeight(),w="12px 4px 4px")}s.css({position:"absolute",top:h.top,left:h.left,backgroundImage:x,backgroundPosition:y,padding:w}),r=!0,d[0].call(f,function(){n.type="onShow",r="full",c.trigger(n)});var T=i.events.cooltip.split(/,\s*/);return s.data("__set")||(s.off(T[0]).on(T[0],function(){clearTimeout(a),clearTimeout(l)}),T[1]&&!o.is("input:not(:checkbox, :radio), textarea")&&s.off(T[1]).on(T[1],function(t){t.relatedTarget!=o[0]&&o.trigger(m[1].split(" ")[0])}),i.tip||s.data("__set",!0)),f},hide:function(e){return s&&f.isShown()?(e=t.Event(),e.type="onBeforeHide",c.trigger(e),e.isDefaultPrevented()?void 0:(r=!1,n[i.effect][1].call(f,function(){e.type="onHide",c.trigger(e)}),f)):f},isShown:function(t){return t?"full"==r:r},getConf:function(){return i},getTip:function(){return s},getTrigger:function(){return o}}),t.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(e,o){t.isFunction(i[o])&&t(f).on(o,i[o]),f[o]=function(e){return e&&t(f).on(o,e),f}})}t.tools=t.tools||{version:"@VERSION"},t.tools.cooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",cooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"cooltip"},addEffect:function(t,e,o){n[t]=[e,o]}};var n={toggle:[function(t){var e=this.getConf(),o=this.getTip(),n=e.opacity;1>n&&o.css({opacity:n}),o.show(),t.call()},function(t){this.getTip().hide(),t.call()}],fade:[function(t){var e=this.getConf();navigator.userAgent.indexOf("MSIE")>=1&&!e.fadeIE?(this.getTip().show(),t()):this.getTip().fadeTo(e.fadeInSpeed,e.opacity,t)},function(t){var e=this.getConf();navigator.userAgent.indexOf("MSIE")>=1&&!e.fadeIE?(this.getTip().hide(),t()):this.getTip().fadeOut(e.fadeOutSpeed,t)}]};t.fn.cooltip=function(e){var n=this.data("cooltip");return n?n:(e=t.extend(!0,{},t.tools.cooltip.conf,e),"string"==typeof e.position&&(e.position=e.position.split(/,?\s/)),this.each(function(){n=new o(t(this),e),t(this).data("cooltip",n)}),e.api?n:this)}}(jQuery),function(t){function e(e){var o=t(window),n=o.width()+o.scrollLeft(),i=o.height()+o.scrollTop();return[e.offset().top<=o.scrollTop(),n<=e.offset().left+e.width(),i<=e.offset().top+e.height(),o.scrollLeft()>=e.offset().left]}function o(t){for(var e=t.length;e--;)if(t[e])return!1;return!0}var n=t.tools.cooltip;n.dynamic={conf:{classNames:"top right bottom left"}},t.fn.dynamic=function(i){"number"==typeof i&&(i={speed:i}),i=t.extend({},n.dynamic.conf,i);var s,r=t.extend(!0,{},i),f=i.classNames.split(/\s/);return this.each(function(){var n=t(this).cooltip().onBeforeShow(function(n,i){var c=this.getTip(),a=this.getConf();s||(s=[a.position[0],a.position[1],a.offset[0],a.offset[1],t.extend({},a)]),t.extend(a,s[4]),a.position=[s[0],s[1]],a.offset=[s[2],s[3]];var l=t.extend(!0,{},r),u=e(c);o(u)||(u[2]&&(t.extend(a,l.top),a.position[0]="top",c.addClass(f[0])),u[3]&&(t.extend(a,l.right),a.position[1]="right",c.addClass(f[1])),u[0]&&(t.extend(a,l.bottom),a.position[0]="bottom",c.addClass(f[2])),u[1]&&(t.extend(a,l.left),a.position[1]="left",c.addClass(f[3])),(u[0]||u[2])&&(a.offset[0]*=-1),(u[1]||u[3])&&(a.offset[1]*=-1)),c.css({visibility:"visible"}).hide()});n.onBeforeShow(function(){var t=this.getConf();this.getTip();setTimeout(function(){t.position=[s[0],s[1]],t.offset=[s[2],s[3]]},0)}),n.onHide(function(){var t=this.getTip();t.removeClass(i.classNames)}),ret=n}),i.api?ret:this}}(jQuery);